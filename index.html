<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Diablo</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Diablo">
<meta property="og:url" content="https://github.com/sirencode/index.html">
<meta property="og:site_name" content="Diablo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Diablo">
  
    <link rel="alternative" href="/atom.xml" title="Diablo" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ShenYonghe</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">ShenYonghe</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">ShenYonghe</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-Protobuf" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/02/23/Protobuf/" class="article-date">
  	<time datetime="2018-02-22T16:00:00.000Z" itemprop="datePublished">2018-02-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/23/Protobuf/">
        Protobuf
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Protobuf"><a href="#Protobuf" class="headerlink" title="Protobuf"></a>Protobuf</h1><p>Google Protocol Buffer(简称 Protobuf)是一种轻便高效的结构化数据存储格式，平台无关、语言无关、可扩展，可用于通讯协议和数据存储等领域。</p>
<h2 id="编码实现"><a href="#编码实现" class="headerlink" title="编码实现"></a>编码实现</h2><p>protobuf之所以小且快，就是因为使用变长的编码规则，只保存有用的信息，节省了大量空间。</p>
<p>1 Base-128变长编码：每个字节使用低7位表示数字，除了最后一个字节，其他字节的最高位都设置为1；采用Little-Endian字节序。</p>
<p>2 ZigZag编码：Base-128变长编码会去掉整数前面那些没用的0，只保留低位的有效位，然而负数的补码表示有很多的1，所以protobuf先用ZigZag编码将所有的数值映射为无符号数，然后使用Base-128编码，ZigZag的编码规则如下：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">1</span> (n &lt;&lt; <span class="number">1</span>) ^ (n &gt;&gt; <span class="number">31</span>) or (n &lt;&lt; <span class="number">1</span>) ^ (n &gt;&gt; <span class="number">63</span>)</span><br></pre></td></tr></table></figure>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><a href="https://github.com/google/protobuf">github</a></p>
<p>1 下载源码</p>
<p>2 cd到源码目录</p>
<p>3 执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./configure</span><br><span class="line">$ make</span><br><span class="line">$ make check</span><br><span class="line">$ sudo make install</span><br></pre></td></tr></table></figure>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Filename: addressbook.proto</span></span><br><span class="line"></span><br><span class="line">syntax=<span class="string">"proto2"</span>;</span><br><span class="line"><span class="keyword">package</span> addressbook;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"src/help.proto"</span>;      <span class="comment">//举例用，编译时去掉</span></span><br><span class="line"></span><br><span class="line">message Person &#123;</span><br><span class="line">    required string name = <span class="number">1</span>;</span><br><span class="line">    required int32 id = <span class="number">2</span>;</span><br><span class="line">    optional string email = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">enum</span> PhoneType &#123;</span><br><span class="line">        MOBILE = <span class="number">0</span>;</span><br><span class="line">        HOME = <span class="number">1</span>;</span><br><span class="line">        WORK = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    message PhoneNumber &#123;</span><br><span class="line">        required string number = <span class="number">1</span>;</span><br><span class="line">        optional PhoneType type = <span class="number">2</span> [<span class="keyword">default</span> = HOME];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    repeated PhoneNumber phone = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">message AddressBook &#123;</span><br><span class="line">    repeated Person person_info = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>syntax=”proto2”; 表明使用protobuf的编译器版本为v2，目前最新的版本为v3 </li>
<li>package addressbook; 声明了一个包名，用来防止不同的消息类型命名冲突，类似于 namespace </li>
<li>message 是Protobuf中的结构化数据，类似于C++中的类，可以在其中定义需要处理的数据 </li>
</ul>
<h3 id="protobuf类型"><a href="#protobuf类型" class="headerlink" title="protobuf类型"></a>protobuf类型</h3><p><img src="http://oc4zuck5v.bkt.clouddn.com/pb.png" alt="pb图"></p>
<h3 id="protobuf字段修饰符"><a href="#protobuf字段修饰符" class="headerlink" title="protobuf字段修饰符"></a>protobuf字段修饰符</h3><p>required：该值是必须要设置的；<br>optional：该字段可以有0个或1个值（不超过1个）；<br>repeated：该字段可以重复任意多次（包括0次），类似于C++中的list；</p>
<h2 id="proto文件转换"><a href="#proto文件转换" class="headerlink" title="proto文件转换"></a>proto文件转换</h2><p>protoc是proto文件的编译器，目前可以将proto文件编译成C++、Java、Python三种代码文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//java</span><br><span class="line">$ protoc --java_out=./java/ ./proto/helloworld.proto</span><br><span class="line">//go</span><br><span class="line">$ protoc --go_out=./go/ ./proto/helloworld.proto</span><br><span class="line">//c++</span><br><span class="line">protoc -I=<span class="variable">$SRC_DIR</span> --cpp_out=<span class="variable">$DST_DIR</span> /path/to/file.proto</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-Android 内部存储 外部存储" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/01/31/Android 内部存储 外部存储/" class="article-date">
  	<time datetime="2018-01-31T02:44:24.975Z" itemprop="datePublished">2018-01-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>title: Android 内部存储 外部存储<br>date: 2018-01-31</p>
<h1 id="Android-内部存储-外部存储"><a href="#Android-内部存储-外部存储" class="headerlink" title="Android 内部存储 外部存储"></a>Android 内部存储 外部存储</h1><p>最容易混淆的是外部存储，因为老的Android系统的跟新的Android系统是有差别的，很多人去网上查找资料，看了一下以前的资料，又看了一下现在的资料，但是发现它们说法不一样然后就困惑了。首先说一个大家普遍的概念“如果在pc机上是区分外部存储和内部存储的话，那么电脑自带的硬盘算是内部存储，U盘或者移动硬盘就是外部存储了。”因此很多人带着这样的理解去看待安卓手机，把内置存储（机身存储）当做内部存储，而把扩展的SD卡当做是外部存储。这么认为确实没错，因为在4.4（API19）以前的手机上确实是这样的，手机自身带的存储卡就是内部存储，而扩展的SD卡就是外部存储。但是从4.4的系统开始，很多的中高端机器都将自己的机身存储扩展到了8G以上，比如有的人的手机是16G的，有的人的手机是32G的，但是这个16G，32G是内部存储吗，不是的！！！，它们依然是外部存储，也就是说4.4系统及以上的手机将机身存储存储（手机自身带的存储叫做机身存储）在概念上分成了”内部存储internal” 和”外部存储external” 两部分。既然16G，32G是外部存储，那有人又有疑惑了，那4.4系统及以上的手机要是插了SD卡呢，SD卡又是什么呢，如果SD卡也是外部存储的话，那怎么区分机身存储的外部存储跟SD卡的外部存储呢？对，SD卡也是外部存储，那怎么区分呢，在4.4以后的系统中，API提供了这样一个方法来遍历手机的外部存储路径：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">File[] files;</span><br><span class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</span><br><span class="line">    files = getExternalFilesDirs(Environment.MEDIA_MOUNTED);</span><br><span class="line">    <span class="keyword">for</span>(File file:files)&#123;</span><br><span class="line">        Log.e(<span class="string">"main"</span>,file);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果你的手机插了SD卡的话，那么它打印的路径就有两条了，例如我的华为荣耀7插了SD卡，它的结果如下：<br>/storage/emulated/0/Android/data/packname/files/mounted<br>/storage/B3E4-1711/Android/data/packname/files/mounted<br>其中/storage/emulated/0目录就是机身存储的外部存储路径,而/storage/B3E4-1711/就是SD卡的路径 </p>
<h2 id="内存-RAM"><a href="#内存-RAM" class="headerlink" title="内存 RAM"></a>内存 RAM</h2><p>物理位置是位于手机内部的随机存储器上，就是俗称的RAM。就是计算机上对内存储器的理解。</p>
<h2 id="内部存储内部ROM"><a href="#内部存储内部ROM" class="headerlink" title="内部存储内部ROM"></a>内部存储内部ROM</h2><p>/data文件夹就是我们常说的内部存储。</p>
<h3 id="data-app"><a href="#data-app" class="headerlink" title="data/app"></a>data/app</h3><p>app文件夹里存放着我们所有安装的app的apk文件，其实，当我们调试一个app的时候，可以看到控制台输出的内容，有一项是uploading …..就是上传我们的apk到这个文件夹，上传成功之后才开始安装。</p>
<h3 id="data-data"><a href="#data-data" class="headerlink" title="data/data"></a>data/data</h3><p>如果打开过data文件，应该都知道这些文件夹是干什么用的，我们在使用sharedPreferenced的时候，将数据持久化存储于本地，其实就是存在这个文件中的xml文件里，我们App里边的数据库文件就存储于databases文件夹中，还有我们的普通数据存储在files中，缓存文件存储在cache文件夹中，存储在这里的文件我们都称之为内部存储。</p>
<h3 id="常用目录"><a href="#常用目录" class="headerlink" title="常用目录"></a>常用目录</h3><ul>
<li>内部存储的cache目录:/data/data/packageName/cache<br>-&gt; context.getCacheDir（）</li>
<li>内部存储的files目录:/data/data/packageName/files -&gt; context.getFilesDir();</li>
<li>内部存储的data目录:/data - &gt; Environment.getDataDirectory();</li>
<li>data/data/包名/shared_prefs -&gt; sp</li>
<li>data/data/包名/databases    -&gt; db</li>
</ul>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li>不需要权限</li>
<li>百分百会有</li>
<li>存在这里的文件只有你自己的app可以访问。</li>
<li>当app卸载的时候，系统会删除对应app的所有信息。</li>
</ul>
<h2 id="外部存储外部ROM和SDCard"><a href="#外部存储外部ROM和SDCard" class="headerlink" title="外部存储外部ROM和SDCard"></a>外部存储外部ROM和SDCard</h2><p>外部存储一般就是我们上面看到的storage文件夹，当然也有可能是mnt文件夹，这个不同厂家有可能不一样。一般来说，在storage文件夹中有一个sdcard文件夹，这个文件夹中的文件又分为两类，一类是公有目录，还有一类是私有目录，其中的公有目录有九大类，比如DCIM、DOWNLOAD等这种系统为我们创建的文件夹，私有目录就是Android这个文件夹，这个文件夹打开之后里边有一个data文件夹，打开这个data文件夹，里边有许多包名组成的文件夹。</p>
<p>外部存储可以有多个，在4.4前，外挂的sdcard是外部存储。4.4后，有一部分手机的本身内存已经超过8G，这时候系统会把机身内存分为两个部分，一部分是内部存储，一部分是外部存储，如果这时候再外挂sdcard就会产生两个外部存储的部分。</p>
<h3 id="常用目录-1"><a href="#常用目录-1" class="headerlink" title="常用目录"></a>常用目录</h3><ul>
<li>外部存储的cache目录:/storage/sdcard0/Android/data/packageName/cache -&gt; context.getExternalCacheDir()</li>
<li>外部存储的files目录:/storage/sdcard0/Android/data/packageName/files-&gt; context.getExternalFilesDir()</li>
<li>外部存储的sdcard的根目录:/storage/sdcard0/ -&gt; Environemnt.getExternalStorageDirectory()</li>
</ul>
<h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><ul>
<li>需要权限</li>
<li>可能不存在外部存储，可装卸载。</li>
<li>所有人都可以访问，不安全。</li>
<li>app卸载的时候，系统会删除存在getExternalFilesDir()-{路径为:/mnt/sdcard/Android/data/&lt; package name &gt;/files/…}目录的内容。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-线程与CPU" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/01/26/线程与CPU/" class="article-date">
  	<time datetime="2018-01-25T16:00:00.000Z" itemprop="datePublished">2018-01-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/26/线程与CPU/">
        线程与CPU
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="线程与CPU"><a href="#线程与CPU" class="headerlink" title="线程与CPU"></a>线程与CPU</h1><p>线程是最小的调度单位，在很多情况下为了使APP更加流程地运行，我们不可能将很多事情都放在主线程上执行，这样会造成严重卡顿（ANR），那么这些事情应该交给子线程去做，但对于一个系统而言，创建、销毁、调度线程的过程是需要开销的，所以我们并不能无限量地开启线程，那么对线程的了解就变得尤为重要了。</p>
<p>CPU中央处理器(Central Processing Unit)是一块超大规模的集成电路，是一台计算机的运算核心（Core）和控制核心（ Control Unit）。它的功能主要是解释计算机指令以及处理计算机软件中的数据。</p>
<h2 id="CPU核数"><a href="#CPU核数" class="headerlink" title="CPU核数"></a>CPU核数</h2><p>一般来讲CPU的核数和线程同时运行的个数是相等的，因此合数越多，多线程处理能力越强。</p>
<h3 id="CPU超线程"><a href="#CPU超线程" class="headerlink" title="CPU超线程"></a>CPU超线程</h3><p>CPU超线程就是利用特殊字符的硬件指令，把两个逻辑内核模拟成物理芯片，让单个处理器能使用线程级并行计算，从而兼容多线程并行计算，从而兼容多线程操作系统和软件，使运行性能提高。也就是说，支持超线程技术的cpu单核可以同时运行两个线程，也就是俗称的伪双核，但其实单核超线程的性能要比双核的差。</p>
<h3 id="线程池的线程数"><a href="#线程池的线程数" class="headerlink" title="线程池的线程数"></a>线程池的线程数</h3><p>如果是CPU密集型应用，则线程池大小设置为N+1</p>
<p>如果是IO密集型应用，则线程池大小设置为2N+1</p>
<p>CPU密集型任务：尽量使用较小的线程池，一般为CPU核心数+1。因为CPU密集型任务得CPU使用率很高，若开过多的线程数，只能增加上下文切换的次数，因此会带来额外的开销。</p>
<p>IO密集型任务：可以使用稍大的线程池，一般为2*CPU核心数。IO密集型任务CPU使用率并不高，因此可以让CPU在等待IO的时候去处理别的任务，充分利用CPU时间。</p>
<p>混合型任务：可以将任务分成IO密集型和CPU密集型任务，然后分别用不同的线程池去处理。 只要分完之后两个任务的执行时间相差不大，那么就会比串行执行来的高效。 因为如果划分之后两个任务执行时间相差甚远，那么先执行完的任务就要等后执行完的任务，最终的时间仍然取决于后执行完的任务，而且还要加上任务拆分与合并的开销，得不偿失。</p>
<h2 id="线程实现"><a href="#线程实现" class="headerlink" title="线程实现"></a>线程实现</h2><h3 id="Thread-Runnable-Callable"><a href="#Thread-Runnable-Callable" class="headerlink" title="Thread/Runnable/Callable"></a>Thread/Runnable/Callable</h3><h4 id="runnable与callable区别"><a href="#runnable与callable区别" class="headerlink" title="runnable与callable区别"></a>runnable与callable区别</h4><ul>
<li>(1) Callable规定的方法是call()，Runnable规定的方法是run()。其中Runnable可以提交给Thread来包装下，直接启动一个线程来执行，而Callable则一般都是提交给ExecuteService来执行。 </li>
<li>(2) Callable的任务执行后可返回值，而Runnable的任务是不能返回值得 </li>
<li>(3) call方法可以抛出异常，run方法不可以 </li>
<li>(4) 运行Callable任务可以拿到一个Future对象，表示异步计算的结果。</li>
</ul>
<h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><p>表示如果线程池中的某个线程死掉了，线程池会生成一个新的线程代替它。</p>
<h4 id="线程池的作用：线程池作用就是限制系统中执行线程的数量。"><a href="#线程池的作用：线程池作用就是限制系统中执行线程的数量。" class="headerlink" title="线程池的作用：线程池作用就是限制系统中执行线程的数量。"></a>线程池的作用：线程池作用就是限制系统中执行线程的数量。</h4><p>线程池的分配遵循这样的规则：</p>
<ul>
<li>当线程池中的核心线程数量未达到最大线程数时，启动一个核心线程去执行任务；</li>
<li>如果线程池中的核心线程数量达到最大线程数时，那么任务会被插入到任务队列中排队等待执行；</li>
<li>如果在上一步骤中任务队列已满但是线程池中线程数量未达到限定线程总数，那么启动一个非核心线程来处理任务；</li>
<li>如果上一步骤中线程数量达到了限定线程总量，那么线程池则拒绝执行该任务，且ThreadPoolExecutor会调用RejectedtionHandler的rejectedExecution方法来通知调用者。</li>
</ul>
<p>主要参数：</p>
<ul>
<li>corePoolSize：核心运行的poolSize，也就是当超过这个范围的时候，就需要将新的Thread放入到等待队列中了；</li>
<li>maximumPoolSize：一般你用不到，当大于了这个值就会将Thread由一个丢弃处理机制来处理，但是当你发生：newFixedThreadPool的时候，corePoolSize和maximumPoolSize是一样的，而corePoolSize是先执行的，所以他会先被放入等待队列，而不会执行到下面的丢弃处理中，看了后面的代码你就知道了。</li>
<li>workQueue：等待队列，当达到corePoolSize的时候，就向该等待队列放入线程信息（默认为一个LinkedBlockingQueue），运行中的队列属性为：workers，为一个HashSet；内部被包装了一层，后面会看到这部分代码。</li>
<li>keepAliveTime：默认都是0，当线程没有任务处理后，保持多长时间，cachedPoolSize是默认60s，不推荐使用。</li>
<li>threadFactory：是构造Thread的方法，你可以自己去包装和传递，主要实现newThread方法即可；</li>
<li>handler：也就是参数maximumPoolSize达到后丢弃处理的方法，java提供了5种丢弃处理的方法，当然你也可以自己弄，主要是要实现接口：RejectedExecutionHandler中的方法：</li>
</ul>
<p>处理任务的优先级为： </p>
<ul>
<li>（1） 核心线程corePoolSize &gt; 任务队列workQueue &gt; 最大线程maximumPoolSize，如果三者都满了，使用handler处理被拒绝的任务。 </li>
<li>（2）当池中的线程数大于corePoolSize的时候，多余的线程会等待keepAliveTime长的时间，如果无请求可处理就自行销毁。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-Gradle 详解" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/01/22/Gradle 详解/" class="article-date">
  	<time datetime="2018-01-21T16:00:00.000Z" itemprop="datePublished">2018-01-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/22/Gradle 详解/">
        Gradle 详解
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Gradle-详解"><a href="#Gradle-详解" class="headerlink" title="Gradle 详解"></a>Gradle 详解</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>Gradle是一个基于Apache Ant和Apache Maven概念的项目自动化建构工具。它使用一种基于Groovy的特定领域语言来声明项目设置，而不是传统的XML。</p>
<p>Android工程通过gradle文件管理各项配置，gradle文件利用DSL（Domain Specific Language）语言描述配置，并使用Groovy语言处理编译逻辑。</p>
<p>Gradle 和 Android 插件独立于 Android Studio 运行。这意味着，可以在 Android Studio 内、使用计算机上的命令行工具或在未安装 Android Studio 的计算机（例如持续性集成服务器）上构建 Android 应用。如果您不使用 Android Studio，可以学习如何从命令行构建和运行您的应用。无论您是从命令行、在远程计算机上还是使用 Android Studio 构建项目，构建的输出都相同。</p>
<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>Gradle中，每一个待编译的工程都叫一个Project。每一个Project在构建的时候都包含一系列的Task。比如一个Android APK的编译可能包含：Java源码编译Task、资源编译Task、JNI编译Task、lint检查Task、打包生成APK的Task、签名Task等。</p>
<p>Gradle 工作主要包含三个阶段：</p>
<ul>
<li>首先是初始化阶段。对我们前面的multi-project build而言，就是执行settings.gradle，确定项目project(每个模块都是一个project)对象的个数。</li>
<li>Configration阶段的目标是解析每个project中的build.gradle。比如multi-project build例子中，解析每个子目录中的build.gradle。在这两个阶段之间，我们可以加一些定制化的Hook。这当然是通过API来添加的。Configuration阶段完了后，整个build的project以及内部的Task关系就确定了。一个Project包含很多Task，每个Task之间有依赖关系。Configuration会建立一个有向图来描述Task之间的依赖关系。所以，我们可以添加一个HOOK，即当Task关系图建立好后，执行一些操作。</li>
<li>最后一个阶段就是执行任务了。</li>
</ul>
<p>简言之，Gradle有一个初始化流程，这个时候settings.gradle会执行。 在配置阶段，每个Project都会被解析，其内部的任务也会被添加到一个有向图里，用于解决执行过程中的依赖关系。然后才是执行阶段。你在gradle xxx中指定什么任务，gradle就会将这个xxx任务链上的所有任务全部按依赖顺序执行一遍！</p>
<h2 id="打包流程"><a href="#打包流程" class="headerlink" title="打包流程"></a>打包流程</h2><h3 id="编译–-gt-DEX–-gt-打包–-gt-签名和对齐"><a href="#编译–-gt-DEX–-gt-打包–-gt-签名和对齐" class="headerlink" title="编译–&gt;DEX–&gt;打包–&gt;签名和对齐"></a>编译–&gt;DEX–&gt;打包–&gt;签名和对齐</h3><p><img src="https://upload-images.jianshu.io/upload_images/2839011-58310b412bae9a01.png?imageMogr2/auto-orient/" alt=""></p>
<ul>
<li>1 Java编译器对工程本身的java代码进行编译，这些java代码有三个来源：app的源代码，由资源文件生成的R文件(aapt工具)，以及有aidl文件生成的java接口文件(aidl工具)。产出为.class文件。</li>
<li>2 .class文件和依赖的三方库文件通过dex工具生成Delvik虚拟机可执行的.dex文件，可能有一个或多个，包含了所有的class信息，包括项目自身的class和依赖的class。产出为.dex文件。</li>
<li>3 apkbuilder工具将.dex文件和编译后的资源文件生成未经签名对齐的apk文件。这里编译后的资源文件包括两部分，一是由aapt编译产生的编译后的资源文件，二是依赖的三方库里的资源文件。产出为未经签名的.apk文件。</li>
<li>4 分别由Jarsigner和zipalign对apk文件进行签名和对齐，生成最终的apk文件。</li>
</ul>
<p>老官网：<br><img src="http://loody.me/images/android_build.png" alt=""></p>
<ul>
<li>1 通过aapt打包res资源文件，生成R.java、resources.arsc和res文件（二进制 &amp; 非二进制如res/raw和pic保持原样）</li>
<li>2 处理.aidl文件，生成对应的Java接口文件</li>
<li>3 通过Java Compiler编译R.java、Java接口文件、Java源文件，生成.class文件</li>
<li>4 通过dex命令，将.class文件和第三方库中的.class文件处理生成classes.dex</li>
<li>5 通过apkbuilder工具，将aapt生成的resources.arsc和res文件、assets文件和classes.dex一起打包生成apk</li>
<li>6 通过Jarsigner工具，对上面的apk进行debug或release签名</li>
<li>7 通过zipalign工具，将签名后的apk进行对齐处理。</li>
</ul>
<p><img src="http://loody.me/images/android_build_detail.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-麦肯锡工作法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/01/08/麦肯锡工作法/" class="article-date">
  	<time datetime="2018-01-07T16:00:00.000Z" itemprop="datePublished">2018-01-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/08/麦肯锡工作法/">
        麦肯锡工作法
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="麦肯锡工作法"><a href="#麦肯锡工作法" class="headerlink" title="麦肯锡工作法"></a>麦肯锡工作法</h1><h2 id="第一课-麦肯锡专业作风"><a href="#第一课-麦肯锡专业作风" class="headerlink" title="第一课 麦肯锡专业作风"></a>第一课 麦肯锡专业作风</h2><h3 id="客户第一主义"><a href="#客户第一主义" class="headerlink" title="客户第一主义"></a>客户第一主义</h3><h3 id="任何时候都积极应对"><a href="#任何时候都积极应对" class="headerlink" title="任何时候都积极应对"></a>任何时候都积极应对</h3><ul>
<li>绝不逃避，无论身处何种情况，绝不退缩，积极应对-PMA(Positive Mental Attitude-积极心态)。</li>
</ul>
<h3 id="专业人士应该尽善尽美地工作"><a href="#专业人士应该尽善尽美地工作" class="headerlink" title="专业人士应该尽善尽美地工作"></a>专业人士应该尽善尽美地工作</h3><ul>
<li>事情不允许完成一半就讨论，即是全部完成，也要尽善尽美，苛刻要求。</li>
</ul>
<h3 id="修行僧与艺术家"><a href="#修行僧与艺术家" class="headerlink" title="修行僧与艺术家"></a>修行僧与艺术家</h3><ul>
<li>在工作达到自己预设的标准之前决不妥协，一直追求尽善尽美，直到截止日期。</li>
</ul>
<h3 id="勿将调查当工作"><a href="#勿将调查当工作" class="headerlink" title="勿将调查当工作"></a>勿将调查当工作</h3><h3 id="成为独一无二的行家"><a href="#成为独一无二的行家" class="headerlink" title="成为独一无二的行家"></a>成为独一无二的行家</h3><h3 id="不要只解决眼前问题"><a href="#不要只解决眼前问题" class="headerlink" title="不要只解决眼前问题"></a>不要只解决眼前问题</h3><ul>
<li>工作中，我们总是希望尽早解决眼前的问题，以至于只专注于现象本身。但是，这时如果进一步转变关注视角，脱离现象这个框架，就可以发现真正的问题所在。</li>
<li>解决问题至关紧要，但是对于真正问题的把握能力也不容忽视。</li>
</ul>
<h2 id="第二课-麦肯锡式解决问题的基本步骤"><a href="#第二课-麦肯锡式解决问题的基本步骤" class="headerlink" title="第二课 麦肯锡式解决问题的基本步骤"></a>第二课 麦肯锡式解决问题的基本步骤</h2><h3 id="什么是“解决问题”？"><a href="#什么是“解决问题”？" class="headerlink" title="什么是“解决问题”？"></a>什么是“解决问题”？</h3><ul>
<li>解决问题的原意并不是应对已经发生的事情，而是深入研究问题的本质：为什么会出现这种问题，应该如何做才能防止这类问题的发生？继而解决问题。也就是说，应该确定真正的问题所在，然后明确解决该问题的具体策略，并付诸实施，这才是解决问题。</li>
<li>解决问题的步骤：区分问题设定与解答区域-&gt;整理并将客体结构化-&gt;收集信息-&gt;建立假说-&gt;验证假说-&gt;考虑解决方案-&gt;实施解决方案</li>
</ul>
<h3 id="解决问题的基本步骤"><a href="#解决问题的基本步骤" class="headerlink" title="解决问题的基本步骤"></a>解决问题的基本步骤</h3><ul>
<li>1 不要打地鼠：像打地鼠一样只解决眼前的问题 - 要明确希望达到的状态</li>
<li><p>2 解决问题的整体流程</p>
<ul>
<li>1 把握问题结构 ：首先要根据眼前发生的事情，定义问题，锁定问题所在，并将问题的结构可视化，即明确与该问题相关的主要因素。</li>
<li><p>2 分析问题构造的方法–逻辑树：就是前提事件是大数的树干，众多的要因成为分枝。</p>
<p>注意：</p>
<pre><code>* 第一应当做到不漏不重。
* 第二应当根据事实基础进行分析。
* 第三不必深究不太重要的事情。

逻辑树案例
</code></pre><p>   <img src="http://oc4zuck5v.bkt.clouddn.com/luojishu.jpeg" alt=""></p>
</li>
</ul>
</li>
<li><p>3 提出假说，进行分析</p>
</li>
<li><p>4 验证假说的方法–要点树：以关键问题为起点，针对由此推出的诸多要素，验证该假说是否成立。</p>
<p>要点树案例：<br><img src="http://oc4zuck5v.bkt.clouddn.com/yaodianshu.jpeg" alt=""></p>
</li>
<li><p>5 推导解决方案–空雨伞：空指的是事实，即现状如何，雨指的是意义，即这种现状意味着什么，伞指的是解决方案与对策，即从该意义推导出要做什么。以现状、意义、对策为基础进行思考，至关重要。</p>
<p> <img src="http://oc4zuck5v.bkt.clouddn.com/WechatIMG7.jpeg" alt=""></p>
</li>
</ul>
<h3 id="解决问题时必须要注意的要点"><a href="#解决问题时必须要注意的要点" class="headerlink" title="解决问题时必须要注意的要点"></a>解决问题时必须要注意的要点</h3><ul>
<li>1 不要过分局限于现在的状况或制约条件：解决问题意味着实现现有状态或希望达到的状态，即填补目标与现状之间的差距。因此在解决问题的时候，比应该拘泥于现状，而应该站在应有状态或希望达成状态这一更高角度想办法。</li>
<li>2 时刻保持思维的逻辑性：逻辑本意-明辨原因与结果，找到合乎道理的思考方法或判断方法，它可以将含混不清的问题理顺。</li>
<li>3 反复重复为什么：要彻底验证逻辑是否严谨</li>
<li>4 必须考虑”针对谁、做什么、如何做”</li>
</ul>
<h2 id="特别讲-麦肯锡式分析框架的入门工具包"><a href="#特别讲-麦肯锡式分析框架的入门工具包" class="headerlink" title="特别讲 麦肯锡式分析框架的入门工具包"></a>特别讲 麦肯锡式分析框架的入门工具包</h2><h3 id="脑中存有框架"><a href="#脑中存有框架" class="headerlink" title="脑中存有框架"></a>脑中存有框架</h3><h3 id="希望把握整体流程中的重要因素时，采用商业体系"><a href="#希望把握整体流程中的重要因素时，采用商业体系" class="headerlink" title="希望把握整体流程中的重要因素时，采用商业体系"></a>希望把握整体流程中的重要因素时，采用商业体系</h3><p>商业体系：指的是在开展事业时，按照性能区分各类必需的要素，并将其整理为连续的流程。</p>
<h3 id="希望探讨市场战略的基本面时，采用3C框架"><a href="#希望探讨市场战略的基本面时，采用3C框架" class="headerlink" title="希望探讨市场战略的基本面时，采用3C框架"></a>希望探讨市场战略的基本面时，采用3C框架</h3><p>3C:取自于客户(customer)、竞争对手(competitor)、公司(company)，该框架是通过分析自己公司现在所处的经营环境，灵活地开发经营课题，制定战略等，并非单纯用于明确自己公司的情况。</p>
<h3 id="希望重新评估组织时，采用7S框架"><a href="#希望重新评估组织时，采用7S框架" class="headerlink" title="希望重新评估组织时，采用7S框架"></a>希望重新评估组织时，采用7S框架</h3><p>硬件：</p>
<ul>
<li>战略：打造开拓市场，增加占有率，消减成本，开发新产品等企业优势，定位企业方向性的活动及活动计划。</li>
<li>组织构造：规定组织形态与管理体制，明确部门间的任务划分等在完成事业时所必需的人力与物力的变动情况。</li>
<li>公司体系：从业务操作到财务等事业必需的信息体系，经营计划及预算管理，决策结构，人事评定，聘用培养等结构。</li>
</ul>
<p>软件</p>
<ul>
<li>组织文化：经营方式，公司风气，潜藏的企业文化及传统。</li>
<li>组织具备的优势：组织拥有的优越性。</li>
<li>人才：拥有各种能力，经历潜力的组织内部人才。</li>
<li>共同的价值观：全体成员共有的理念，梦想，目标及开展事业活动时依据的价值观等。</li>
</ul>
<p><img src="http://oc4zuck5v.bkt.clouddn.com/WechatIMG8.jpeg" alt=""></p>
<h3 id="不知道该如何选择时，采用位置矩阵"><a href="#不知道该如何选择时，采用位置矩阵" class="headerlink" title="不知道该如何选择时，采用位置矩阵"></a>不知道该如何选择时，采用位置矩阵</h3><p>位置矩阵：指的是有助于明确”紧急、重要的事件“以及实践行动优先顺序的框架。</p>
<p><img src="http://oc4zuck5v.bkt.clouddn.com/WechatIMG9.jpeg" alt=""></p>
<h3 id="希望寻求解决问题的真正方法时，采用逻辑树框架"><a href="#希望寻求解决问题的真正方法时，采用逻辑树框架" class="headerlink" title="希望寻求解决问题的真正方法时，采用逻辑树框架"></a>希望寻求解决问题的真正方法时，采用逻辑树框架</h3><h2 id="第三课-麦肯锡式处理信息的技巧"><a href="#第三课-麦肯锡式处理信息的技巧" class="headerlink" title="第三课 麦肯锡式处理信息的技巧"></a>第三课 麦肯锡式处理信息的技巧</h2><h3 id="调查要基于原始材料"><a href="#调查要基于原始材料" class="headerlink" title="调查要基于原始材料"></a>调查要基于原始材料</h3><h3 id="性感地运用信息"><a href="#性感地运用信息" class="headerlink" title="性感地运用信息"></a>性感地运用信息</h3><p>原封不动的仅仅分析眼前已有的信息或数据，是不性感的，不会产生新的价值。不仅需要分析，而且必须从中创造。</p>
<h3 id="风来时，做木桶的人将如何？"><a href="#风来时，做木桶的人将如何？" class="headerlink" title="风来时，做木桶的人将如何？"></a>风来时，做木桶的人将如何？</h3><p>通过现在的某种信息，可以解读对未来的影响。换言之，为了使对方完成自己希望达成的事情，而考虑如何使用现在的某种信息。</p>
<h2 id="第四课-麦肯锡式提高解决问题能力的思考方法"><a href="#第四课-麦肯锡式提高解决问题能力的思考方法" class="headerlink" title="第四课 麦肯锡式提高解决问题能力的思考方法"></a>第四课 麦肯锡式提高解决问题能力的思考方法</h2><h3 id="不要只从硬币的正反面考虑问题"><a href="#不要只从硬币的正反面考虑问题" class="headerlink" title="不要只从硬币的正反面考虑问题"></a>不要只从硬币的正反面考虑问题</h3><p>思考的顺序是：首先，思考从这件事中可以学到什么，以及其带来的意义；其次，改变视角，按照“空雨伞”的逻辑，落实自己应当采取的行动。</p>
<h3 id="决不放弃的定力"><a href="#决不放弃的定力" class="headerlink" title="决不放弃的定力"></a>决不放弃的定力</h3><h3 id="使五感更敏锐"><a href="#使五感更敏锐" class="headerlink" title="使五感更敏锐"></a>使五感更敏锐</h3><p>不要让自己的身心疲惫，尽量早睡早起，这样五感才能更为敏锐，思维才能更为敏捷。</p>
<p>冥想</p>
<h3 id="边放松边集中"><a href="#边放松边集中" class="headerlink" title="边放松边集中"></a>边放松边集中</h3><h3 id="框架型的思考方法"><a href="#框架型的思考方法" class="headerlink" title="框架型的思考方法"></a>框架型的思考方法</h3><h3 id="超越自己的框架"><a href="#超越自己的框架" class="headerlink" title="超越自己的框架"></a>超越自己的框架</h3><p>推荐方法：有意识地改变自己的行为。</p>
<h3 id="区分事实与意见"><a href="#区分事实与意见" class="headerlink" title="区分事实与意见"></a>区分事实与意见</h3><p>聆听的时候，不要被对方的话所牵引，导致自己思路变得不清晰。只需做到一边倾听对方，一边将对方的话分解为意见与事实。</p>
<h3 id="从疑问出发"><a href="#从疑问出发" class="headerlink" title="从疑问出发"></a>从疑问出发</h3><h3 id="疑问的核心是什么？"><a href="#疑问的核心是什么？" class="headerlink" title="疑问的核心是什么？"></a>疑问的核心是什么？</h3><p>提出疑问时需要注意以下两点：</p>
<p>第一，使疑问做到”一言以弊之”<br>第二，抓住问题的核心</p>
<h3 id="有助于抓住疑问核心的好问题"><a href="#有助于抓住疑问核心的好问题" class="headerlink" title="有助于抓住疑问核心的好问题"></a>有助于抓住疑问核心的好问题</h3><p>提出高质量问题的基本态度：</p>
<ul>
<li>注意对方的反应</li>
<li>带着单纯的好奇心(暂且将自己的想法与考虑搁置一边)</li>
<li>不要评论对方的言论与想法</li>
<li>重视简单的疑问并展开询问</li>
<li>深入地思考与观察</li>
</ul>
<p>改变视角的问题，比如</p>
<ul>
<li>如果你是顾客，希望怎么做？</li>
<li>如果你现在正在工作，你认为自己会在做什么？</li>
<li>从整个人生的角度看，这件事的重要程度有多大？</li>
</ul>
<p>探索原因的问题：</p>
<ul>
<li>在整个过程当中，哪个环节让你感到了压力？</li>
<li>在如今所处的环境中，哪些方面让自己身心愉悦？</li>
<li>尽管想做却并未实际去做的是什么事情？</li>
</ul>
<p>认识对方价值的问题：</p>
<ul>
<li>什么时候，你会感到满足？</li>
<li>对你而言，至关重要且无可取代的事物是什么？</li>
<li>你如何在一天内花掉100万？</li>
</ul>
<h3 id="对是否真实发出疑问"><a href="#对是否真实发出疑问" class="headerlink" title="对是否真实发出疑问"></a>对是否真实发出疑问</h3><p>举例：”我最近很在意自己的体重，所以要去健身房减肥，你觉得A或B哪家健身房比较好？“</p>
<p>疑问是：A或B哪家健身房比较好？</p>
<p>真正的问题其实是在意自己的体重。</p>
<p>实际问题也许在于饮食不均衡，也或许在于生活不规律，而并非仅仅缺乏运动。</p>
<h3 id="勿忘全局"><a href="#勿忘全局" class="headerlink" title="勿忘全局"></a>勿忘全局</h3><p>从全局出发观察事物，提高立足点，开阔视野，也是麦肯锡再三强调的注意事项。</p>
<h3 id="试试电梯测试-30秒描述重点"><a href="#试试电梯测试-30秒描述重点" class="headerlink" title="试试电梯测试-30秒描述重点"></a>试试电梯测试-30秒描述重点</h3><h2 id="麦肯锡式提高自身能力的方法"><a href="#麦肯锡式提高自身能力的方法" class="headerlink" title="麦肯锡式提高自身能力的方法"></a>麦肯锡式提高自身能力的方法</h2><h3 id="发挥自己存在的价值"><a href="#发挥自己存在的价值" class="headerlink" title="发挥自己存在的价值"></a>发挥自己存在的价值</h3><p>大家要准确地把握自己的个性与特质，以及擅长的事情，也可以听取同事，前辈或朋友的意见。至于如何发挥这种优势，应当反复思考，如果有导师，也可以与导师探讨。</p>
<p>我们总是不自觉地希望成为获得自己缺失的性格的人。比如成熟的羡慕性格开朗的人，希望变成那类人。但是，要获得自己缺失的性格，是十分困难的。</p>
<p>不要试图改变自己，成为别人。不断提高原本的自己，才能赢到最后，获得最大的回报。</p>
<h3 id="审视自己的外表和内在"><a href="#审视自己的外表和内在" class="headerlink" title="审视自己的外表和内在"></a>审视自己的外表和内在</h3><p>着手解决某件事情的时候，请务必清楚地辨别自己的能量是否足够。</p>
<h3 id="携带简单的工具"><a href="#携带简单的工具" class="headerlink" title="携带简单的工具"></a>携带简单的工具</h3><h3 id="拥有榜样"><a href="#拥有榜样" class="headerlink" title="拥有榜样"></a>拥有榜样</h3><h3 id="不做批判"><a href="#不做批判" class="headerlink" title="不做批判"></a>不做批判</h3><p>拥抱棘手问题</p>
<h2 id="第六课-麦肯锡式创造成果的能力"><a href="#第六课-麦肯锡式创造成果的能力" class="headerlink" title="第六课 麦肯锡式创造成果的能力"></a>第六课 麦肯锡式创造成果的能力</h2><h3 id="在限定时间内取得成果"><a href="#在限定时间内取得成果" class="headerlink" title="在限定时间内取得成果"></a>在限定时间内取得成果</h3><p>需要锻炼忍耐孤独的意志</p>
<h3 id="即便无法喜欢他，也可以与之产生共鸣、实现共享"><a href="#即便无法喜欢他，也可以与之产生共鸣、实现共享" class="headerlink" title="即便无法喜欢他，也可以与之产生共鸣、实现共享"></a>即便无法喜欢他，也可以与之产生共鸣、实现共享</h3><p>首先，清楚对方是什么样的人。其次，有意识地关注对方的优点与长处。</p>
<h3 id="在领导询问之前汇报"><a href="#在领导询问之前汇报" class="headerlink" title="在领导询问之前汇报"></a>在领导询问之前汇报</h3><h3 id="彰显自己存在感的方法"><a href="#彰显自己存在感的方法" class="headerlink" title="彰显自己存在感的方法"></a>彰显自己存在感的方法</h3><p>保持本我，不强迫自己，同时出色地完成需要自己完成的工作。</p>
<h3 id="摆脱“应当论”的束缚"><a href="#摆脱“应当论”的束缚" class="headerlink" title="摆脱“应当论”的束缚"></a>摆脱“应当论”的束缚</h3><p>与其说麦肯锡的经理自己引领团队，不如说他们巧妙地发挥每个人的能力，使个人成果最大化。</p>
<h3 id="不要一个人完成所有的工作"><a href="#不要一个人完成所有的工作" class="headerlink" title="不要一个人完成所有的工作"></a>不要一个人完成所有的工作</h3><h3 id="设计工作"><a href="#设计工作" class="headerlink" title="设计工作"></a>设计工作</h3><p>使用甘特图表</p>
<p>为了检测自己是否掌握项目所需的要素，也已运用4P思考框架：</p>
<ul>
<li>purpose（初衷）</li>
<li>position（问题定位）</li>
<li>perspective（视角）</li>
<li>period（完成时间）</li>
</ul>
<h3 id="运用“原本模式”"><a href="#运用“原本模式”" class="headerlink" title="运用“原本模式”"></a>运用“原本模式”</h3><p>“我们原本希望做什么？”</p>
<p>通过思考原本如如何，可以发散思维，继而从中发现遗漏之处，或激发全新的创意。</p>
<h3 id="设计会议"><a href="#设计会议" class="headerlink" title="设计会议"></a>设计会议</h3><h3 id="使用我们而非我"><a href="#使用我们而非我" class="headerlink" title="使用我们而非我"></a>使用我们而非我</h3><h3 id="提出有效的质疑"><a href="#提出有效的质疑" class="headerlink" title="提出有效的质疑"></a>提出有效的质疑</h3><p>人一旦直面疑问的核心，或是自己真心期待、希望的事情，表情与声音都会发生改变。</p>
<h2 id="第七课-麦肯锡式演示的技巧"><a href="#第七课-麦肯锡式演示的技巧" class="headerlink" title="第七课 麦肯锡式演示的技巧"></a>第七课 麦肯锡式演示的技巧</h2><h3 id="演示所需要的三要素"><a href="#演示所需要的三要素" class="headerlink" title="演示所需要的三要素"></a>演示所需要的三要素</h3><ul>
<li>只做演示资料</li>
<li>演示资料可用于展示</li>
<li>实际进行演示</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-麦肯锡思维" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/27/麦肯锡思维/" class="article-date">
  	<time datetime="2017-12-26T16:00:00.000Z" itemprop="datePublished">2017-12-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/27/麦肯锡思维/">
        麦肯锡思维
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="麦肯锡思维"><a href="#麦肯锡思维" class="headerlink" title="麦肯锡思维"></a>麦肯锡思维</h1><h2 id="第一章-“做正确的事”与”正确地做事”"><a href="#第一章-“做正确的事”与”正确地做事”" class="headerlink" title="第一章 “做正确的事”与”正确地做事”"></a>第一章 “做正确的事”与”正确地做事”</h2><p>###”做正确的事”与”正确地做事”</p>
<ul>
<li>麦肯锡的原则就是既要正确地做事，更要做正确的事。成功的前提是做正确的事。</li>
<li>做正确的事是前提，不要再错误的路上走远。</li>
<li>过去和现在都是暂时的，关键是未来的目标。</li>
<li>当我们开始每项工作前，首先要明确我们要达到的目标，之后在确定正确的去实施。</li>
<li>明确目标能够提示我们哪些工作重要，哪些次要，哪些要当机立断，哪些要等待时机。避免盲目忙乱的无序状态。既要有长期目标，还要有每一步的短期目标。</li>
</ul>
<h3 id="有效的执行力"><a href="#有效的执行力" class="headerlink" title="有效的执行力"></a>有效的执行力</h3><ul>
<li>效率和效能，分别代表着”正确地做事”和”做正确的事”</li>
<li>麦肯锡强调的是在进入工作状态时，首先要明确做正确的事。</li>
<li>从管理角度来讲，一条障碍最小的曲线，也许才是两点间的最短距离。</li>
</ul>
<h3 id="对正确的评估"><a href="#对正确的评估" class="headerlink" title="对正确的评估"></a>对正确的评估</h3><ul>
<li>想要做出正确的判断，只有深入挖掘和掌握事实，根据实际情况，才能把握正确的方向，发现自己的正确与否。(另外，”病人”诉说的情况并不一定是病因。)</li>
<li>发现正确的问题，是做正确的事的第一步。</li>
</ul>
<h3 id="把眼光放得更远一些"><a href="#把眼光放得更远一些" class="headerlink" title="把眼光放得更远一些"></a>把眼光放得更远一些</h3><h3 id="“正确”永远在变化"><a href="#“正确”永远在变化" class="headerlink" title="“正确”永远在变化"></a>“正确”永远在变化</h3><ul>
<li>居安思危，居危思进</li>
</ul>
<p>##第二章 提高效率的二八原则</p>
<h3 id="按事情的重要程度划分先后次序"><a href="#按事情的重要程度划分先后次序" class="headerlink" title="按事情的重要程度划分先后次序"></a>按事情的重要程度划分先后次序</h3><h3 id="重要的少数和不重要的多数"><a href="#重要的少数和不重要的多数" class="headerlink" title="重要的少数和不重要的多数"></a>重要的少数和不重要的多数</h3><ul>
<li>重要而关键的部分总是占少数，而琐碎不重要的部分总是占大多数。</li>
<li>我们发现只要能够掌控最重要的少数因素，那么就意味着掌控了全局。</li>
<li>当今时代早已不再是平均分配的时代，只有紧跟时代形式，抓准市场规律，把重要的少数放在首位，并投入更多的时间和精力，才能更高效地完成工作。</li>
</ul>
<h3 id="做事的秘诀首先是次序的排序"><a href="#做事的秘诀首先是次序的排序" class="headerlink" title="做事的秘诀首先是次序的排序"></a>做事的秘诀首先是次序的排序</h3><ul>
<li>重要 &gt; 紧急</li>
</ul>
<h3 id="做事情前先要精心分好主次"><a href="#做事情前先要精心分好主次" class="headerlink" title="做事情前先要精心分好主次"></a>做事情前先要精心分好主次</h3><p>注意</p>
<ul>
<li>1 明确自己的长远目标</li>
<li>2 现在我要做什么（哪些是需要我来做的，哪些需要交给别人的）</li>
<li>3 什么样的事情给我的回报最高（把自己80%的经历放在最高回报的事情上）</li>
<li>4 要明确做哪些事能给自己满足感(乐趣)。</li>
</ul>
<h3 id="时间管理的”四象限法则”"><a href="#时间管理的”四象限法则”" class="headerlink" title="时间管理的”四象限法则”"></a>时间管理的”四象限法则”</h3><ul>
<li>第一象限：重要且紧急，紧急意味着需要立即做，重要则意味对个人或团队有重大影响。</li>
<li>第二象限：重要不紧急(时间变通)</li>
<li>第三象限：紧急但不重要</li>
<li>第四象限：不重要也不紧急</li>
<li>总结：重要但不紧急的是最重要的事情，应该在这些事情上分配更多的时间和精力。重要紧急的事情很多由重要不紧急转化来的。</li>
</ul>
<h3 id="放在首位的应该是重要的事情"><a href="#放在首位的应该是重要的事情" class="headerlink" title="放在首位的应该是重要的事情"></a>放在首位的应该是重要的事情</h3><p>要事第一</p>
<ul>
<li>为每天的工作制定一个优先表格</li>
<li>做一个进度表，将重要的事情按顺序写下来</li>
<li>在要求自己遵守时间的同时也要求别人遵守时间</li>
</ul>
<h2 id="第三章-让事实自己说话"><a href="#第三章-让事实自己说话" class="headerlink" title="第三章 让事实自己说话"></a>第三章 让事实自己说话</h2><h3 id="以事实为基础"><a href="#以事实为基础" class="headerlink" title="以事实为基础"></a>以事实为基础</h3><ul>
<li>事实使我们用来铺就解决措施道路的基石。</li>
<li>解决问题时的思路遵循三个规则<ul>
<li>1 以事实为基础</li>
<li>2 严格的结构化</li>
<li>3 以假设作为导向</li>
</ul>
</li>
</ul>
<h3 id="不要落入主观陷阱"><a href="#不要落入主观陷阱" class="headerlink" title="不要落入主观陷阱"></a>不要落入主观陷阱</h3><ul>
<li>方案要从实事中来再回归事实中去，不要将它往自己的框架里面加</li>
<li>反省：<ul>
<li>做事的时候是否实事求是，而不是根据猜测或个人的期望<ul>
<li>2 做出判断时，是否允许他人提出意见</li>
<li>3 是不是能采取个人不喜欢可是又有事实依据的行动</li>
<li>4 找不到问题的根源时，是否延迟等到问题确认才去实施的</li>
<li>5 灵感或者内心感受来做决定</li>
<li>6 自己反感，大家都同意的意见，会不会接受</li>
<li>7 身为负责人，能否为了公司的利益不计个人好恶</li>
<li>8 人事问题不惨杂个人意见</li>
<li>9 交往时，未交流就下结论</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="第四章-利用关键驱动点直达问题核心"><a href="#第四章-利用关键驱动点直达问题核心" class="headerlink" title="第四章 利用关键驱动点直达问题核心"></a>第四章 利用关键驱动点直达问题核心</h2><h3 id="识别关键驱动点"><a href="#识别关键驱动点" class="headerlink" title="识别关键驱动点"></a>识别关键驱动点</h3><ul>
<li>要学会丢弃所有不重要的因素，只着眼于关键驱动</li>
</ul>
<h3 id="高效率地达到目的"><a href="#高效率地达到目的" class="headerlink" title="高效率地达到目的"></a>高效率地达到目的</h3><h3 id="日常中的关键驱动点"><a href="#日常中的关键驱动点" class="headerlink" title="日常中的关键驱动点"></a>日常中的关键驱动点</h3><ul>
<li>把握关键驱动点<ul>
<li>1 找准正确的方向<ul>
<li>2 大量收集资料，运用逻辑树状图进行分析研究</li>
<li>3 进行头脑风暴（发散思维来打破惯性思维）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="第五章-不重叠，不遗漏的MECE分析法"><a href="#第五章-不重叠，不遗漏的MECE分析法" class="headerlink" title="第五章 不重叠，不遗漏的MECE分析法"></a>第五章 不重叠，不遗漏的MECE分析法</h2><h3 id="相互独立，完全穷尽-MECE-读作”me-see”-全称mutually-exclusive-collectively-exhaustive-“相互独立，完全穷尽”"><a href="#相互独立，完全穷尽-MECE-读作”me-see”-全称mutually-exclusive-collectively-exhaustive-“相互独立，完全穷尽”" class="headerlink" title="相互独立，完全穷尽(MECE 读作”me see”,全称mutually exclusive,collectively exhaustive.-“相互独立，完全穷尽”)"></a>相互独立，完全穷尽(MECE 读作”me see”,全称mutually exclusive,collectively exhaustive.-“相互独立，完全穷尽”)</h3><ul>
<li>相互独立可以让问题的各个方面独立呈现，避免混淆</li>
</ul>
<h3 id="列出你的清单"><a href="#列出你的清单" class="headerlink" title="列出你的清单"></a>列出你的清单</h3><ul>
<li>一份完美的清单所包含的一级项目应该在2-5个之间，3个最理想。</li>
<li>运用MECE法则注意事项：<ul>
<li>1 做到全方位，多角度的考虑问题。(此处推荐六顶思考帽)</li>
<li>2 尽可能多地收集事实依据</li>
<li>3 利用图表分析问题</li>
</ul>
</li>
</ul>
<h2 id="第六章用逻辑分析法呈现严禁推理"><a href="#第六章用逻辑分析法呈现严禁推理" class="headerlink" title="第六章用逻辑分析法呈现严禁推理"></a>第六章用逻辑分析法呈现严禁推理</h2><h3 id="从树干到树枝"><a href="#从树干到树枝" class="headerlink" title="从树干到树枝"></a>从树干到树枝</h3><ul>
<li>罗分析法：分层罗列问题的所有子问题，逐层向下扩展分析。</li>
<li>议题树，假设树和是否树<h3 id="逻辑思维解决复杂问题"><a href="#逻辑思维解决复杂问题" class="headerlink" title="逻辑思维解决复杂问题"></a>逻辑思维解决复杂问题</h3></li>
<li>逻辑推理过程<ul>
<li>第一步：确认需要解决的问题(必须是具体的，其内容必须单一，不可出现组合)<ul>
<li>第二步：分解问题（用议题树，假设树和是否树分析）</li>
<li>第三步：提出次要问题</li>
<li>第四步：制定详细的工作计划（将思维过程转化为可执行的工作计划）</li>
<li>第五步：进行关键分析（脑暴关键点）</li>
<li>第六步：综合分析调查结果，建立论证</li>
<li>第七步：陈述整个工作过程，进行交流沟通</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="第七章循序渐进，先摘好摘的果子"><a href="#第七章循序渐进，先摘好摘的果子" class="headerlink" title="第七章循序渐进，先摘好摘的果子"></a>第七章循序渐进，先摘好摘的果子</h2><h3 id="将简单的部分作为起点，然后有步骤地向前推进，从一个真理推出另一个真理，再逐一推出更多真理，从简单到复杂，从浅显到深刻。"><a href="#将简单的部分作为起点，然后有步骤地向前推进，从一个真理推出另一个真理，再逐一推出更多真理，从简单到复杂，从浅显到深刻。" class="headerlink" title="将简单的部分作为起点，然后有步骤地向前推进，从一个真理推出另一个真理，再逐一推出更多真理，从简单到复杂，从浅显到深刻。"></a>将简单的部分作为起点，然后有步骤地向前推进，从一个真理推出另一个真理，再逐一推出更多真理，从简单到复杂，从浅显到深刻。</h3><h3 id="从选择容易的对象开始"><a href="#从选择容易的对象开始" class="headerlink" title="从选择容易的对象开始"></a>从选择容易的对象开始</h3><h3 id="用最短的时间，做更多更容易的事"><a href="#用最短的时间，做更多更容易的事" class="headerlink" title="用最短的时间，做更多更容易的事"></a>用最短的时间，做更多更容易的事</h3><ul>
<li>一个人的能力不是指他用大量的时间去做一件出人意料的事，相反，是能在最短的时间内，做出最容易的事。<h3 id="化整为零，循序渐进"><a href="#化整为零，循序渐进" class="headerlink" title="化整为零，循序渐进"></a>化整为零，循序渐进</h3><h3 id="用心去摘好摘的果子"><a href="#用心去摘好摘的果子" class="headerlink" title="用心去摘好摘的果子"></a>用心去摘好摘的果子</h3><h3 id="奥卡姆剃刀"><a href="#奥卡姆剃刀" class="headerlink" title="奥卡姆剃刀"></a>奥卡姆剃刀</h3><ul>
<li>我会做的事情只有两件，一件是完成简单的事情，一件是把复杂的事情变得简单。</li>
<li>奥卡姆剃刀：如果有多个理论能够解释同一件事，那么其中最简单，最少假设的那个理论就是最可取的。</li>
<li>如无必要，勿增实体</li>
<li>简化的一些方法：<ul>
<li>1 找到重点</li>
<li>2 提高技术水平</li>
<li>3 授权</li>
<li>4 外包</li>
<li>5 取消</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="第八章-一次只需要做好一件事"><a href="#第八章-一次只需要做好一件事" class="headerlink" title="第八章 一次只需要做好一件事"></a>第八章 一次只需要做好一件事</h2><h3 id="专打一个垒"><a href="#专打一个垒" class="headerlink" title="专打一个垒"></a>专打一个垒</h3><ul>
<li>在团队中，努力做好自己分内的事，不要试图将整个团队的工作一人包办</li>
<li>原因：<ul>
<li>第一，你不可能把所有人的工作都一个人干完。<ul>
<li>第二，即使你做到了一次，也会让周围的人对你产生不切实际的想法。</li>
<li>第三，这种期望对你的压力非常大，如果你不能满足大家的期望，那你就在他们心中丧失了信誉，想再挽回就很难了。<h3 id="提高穿透力"><a href="#提高穿透力" class="headerlink" title="提高穿透力"></a>提高穿透力</h3></li>
</ul>
</li>
</ul>
</li>
<li>像订书器一样将精力集中到关键点，这样力更大。</li>
<li>想要把所有事做好，就不可能把重要的事做好。</li>
<li>在工作中不要频繁的转换工作状态，做好一件事再去做别的。</li>
<li>一次只做一件事，提高穿透力，让自己时刻掌握主动权，几点建议<ul>
<li>1 学会摆脱事物 - 拒绝一部分，或分配出一部分</li>
<li>2 学会摆脱人</li>
<li>3 学会摆脱过去 - 过去的错误不应该成为你的包袱，过去的荣誉也不是你长久的资本，摆脱那些干扰，只专注于现在。</li>
</ul>
</li>
</ul>
<h2 id="第九章筛选资料，应对信息干扰"><a href="#第九章筛选资料，应对信息干扰" class="headerlink" title="第九章筛选资料，应对信息干扰"></a>第九章筛选资料，应对信息干扰</h2><h3 id="准备一个大纸篓"><a href="#准备一个大纸篓" class="headerlink" title="准备一个大纸篓"></a>准备一个大纸篓</h3><ul>
<li>文件资料处理意见：<ul>
<li>有些资料需要立即处理，不要耽搁</li>
<li>阅读后保存下来，在阅读时你会发现哪些是你需要的，将其保存。</li>
<li>进一步阅读发现有些东西可以不用，就立即丢掉。</li>
<li>准备一个收纳文件的地方。</li>
</ul>
</li>
</ul>
<h3 id="布里丹选择-（驴，左右两堆草，循环左好右好，饿死）"><a href="#布里丹选择-（驴，左右两堆草，循环左好右好，饿死）" class="headerlink" title="布里丹选择 （驴，左右两堆草，循环左好右好，饿死）"></a>布里丹选择 （驴，左右两堆草，循环左好右好，饿死）</h3><ul>
<li>多个判断点，未做排序，而徘徊不定。</li>
<li>正确的利用信息，首先要对大量的信息做筛选和排序，去粗取精，去伪存真。</li>
</ul>
<h3 id="数字化干扰"><a href="#数字化干扰" class="headerlink" title="数字化干扰"></a>数字化干扰</h3><ul>
<li>过度的信息一旦使人沉溺其中，也会成为一种沉重的负担。</li>
</ul>
<h3 id="头脑内的战争"><a href="#头脑内的战争" class="headerlink" title="头脑内的战争"></a>头脑内的战争</h3><h3 id="设置无干扰区"><a href="#设置无干扰区" class="headerlink" title="设置无干扰区"></a>设置无干扰区</h3><ul>
<li>在特定的时间段对所有的干扰进行屏蔽</li>
</ul>
<h2 id="第十章深陷迷雾时后退一步看清大局"><a href="#第十章深陷迷雾时后退一步看清大局" class="headerlink" title="第十章深陷迷雾时后退一步看清大局"></a>第十章深陷迷雾时后退一步看清大局</h2><h3 id="从选定方向开始"><a href="#从选定方向开始" class="headerlink" title="从选定方向开始"></a>从选定方向开始</h3><ul>
<li>在开始工作之前，你首先要明确自己工作的最终目标是什么。</li>
<li>经常检验一下自己的行进路线，避免因为太匆忙而偏离了方向或迷失了方向。<h3 id="关注”大画面”"><a href="#关注”大画面”" class="headerlink" title="关注”大画面”"></a>关注”大画面”</h3><ul>
<li>一个人如果处于胡乱中，那么就应该主动后退一步，思考一下正在做的事情。</li>
<li>最重要的是关注大画面，你正在做的事是否与大画面吻合。</li>
<li>怎样才能让工作重心和注意力的中心锁定在大画面<ul>
<li>1 简历自己希望的大画面</li>
<li>2 写下你的目标 （贴在显眼的位置）</li>
<li>3 学会切割目标 （庞大的目标往往看上去非常虚幻，容易消磨意志，让人心生疲倦）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="创新要讲究实事求是"><a href="#创新要讲究实事求是" class="headerlink" title="创新要讲究实事求是"></a>创新要讲究实事求是</h3><ul>
<li>对于创新我们应该有一个正确的认识，它的目标是更高效地工作，更完善地发展，如果因为创新而发生停滞甚至倒退的现象，那就不是创新了。</li>
</ul>
<h3 id="认识你自己"><a href="#认识你自己" class="headerlink" title="认识你自己"></a>认识你自己</h3><ul>
<li>在日常忙碌中，不要被纷繁的事情所困扰，要时刻看清自己，胸怀远大的抱负，心中想着宏伟的目标，随时调整自己的方向，调整自己的观念，这样才会获得更高的效能，实现更好的效果。</li>
</ul>
<h2 id="第十一章以矛盾激发思维的”头脑风暴”"><a href="#第十一章以矛盾激发思维的”头脑风暴”" class="headerlink" title="第十一章以矛盾激发思维的”头脑风暴”"></a>第十一章以矛盾激发思维的”头脑风暴”</h2><h3 id="麦肯锡团队的头脑风暴"><a href="#麦肯锡团队的头脑风暴" class="headerlink" title="麦肯锡团队的头脑风暴"></a>麦肯锡团队的头脑风暴</h3><ul>
<li>头脑风暴就像魔方一样，它的每一个面，就是一个事实，而你每一次转动，都会有惊喜的发现，都会得到启发，都会得到答案。</li>
</ul>
<h3 id="头脑风暴的原则"><a href="#头脑风暴的原则" class="headerlink" title="头脑风暴的原则"></a>头脑风暴的原则</h3><ul>
<li>目标：产生新的想法</li>
<li>不需要老生常谈，不要因循守旧，不要人云亦云。</li>
<li>原则：<ul>
<li>1 特定问题的提出（预先给出问题，叫大家做足准备）</li>
<li>2 营造宽松的氛围，不做任何评价</li>
<li>3 对狂热和夸张的想法给予鼓励（大部分创新出自夸张的想法）</li>
<li>4 在观点上追求数量的最大化</li>
<li>5 在集思广益的基础上建立新的观点</li>
<li>6 不要担心你的意见被否决</li>
<li>7 不要忽略简单问题</li>
<li>8 “准备好扼杀自己的婴儿”</li>
<li>9 合理安排时间</li>
<li>10 做好后勤服务工作 （放送时间，事物）</li>
<li>11 用笔写下来</li>
</ul>
</li>
</ul>
<h3 id="完善头脑风暴容易出现的问题"><a href="#完善头脑风暴容易出现的问题" class="headerlink" title="完善头脑风暴容易出现的问题"></a>完善头脑风暴容易出现的问题</h3><ul>
<li>1 头脑风暴法的削弱是由社会惰化造成的 （群体越大，个体付出越少）</li>
<li>2 头脑风暴法中有”冒险转移”的潜在问题</li>
<li>3 对上级的服从观点，妨碍了新观点的产生</li>
</ul>
<h3 id="脑暴注意事项"><a href="#脑暴注意事项" class="headerlink" title="脑暴注意事项"></a>脑暴注意事项</h3><ul>
<li>1 领导尽量回避</li>
<li>2 选择适宜的环境</li>
<li>3 如何认识批评和指责</li>
<li>4 培养创新思维方式</li>
<li>5 要有确定的主题 - 不能偏题</li>
<li>6 对方案最好分析</li>
</ul>
<h2 id="第十二章每天一个图标管理你的工作"><a href="#第十二章每天一个图标管理你的工作" class="headerlink" title="第十二章每天一个图标管理你的工作"></a>第十二章每天一个图标管理你的工作</h2><h3 id="做好一张简单的表格"><a href="#做好一张简单的表格" class="headerlink" title="做好一张简单的表格"></a>做好一张简单的表格</h3><ul>
<li>记录每天最重要的事，或者一闪而过的想法观点</li>
<li>表格的目的：使每天的工作明确</li>
</ul>
<h3 id="工作日志的意义"><a href="#工作日志的意义" class="headerlink" title="工作日志的意义"></a>工作日志的意义</h3><ul>
<li>无论工作还是生活，时常做一些反思，总结一下得失，汲取一些经验教训，这对改进工作，提高生活质量都是大有益处的。</li>
<li>每天无论如何让也要挤出一点时间，把一天的工作像过电影一样回顾一遍，既从中发现自己的成绩，也查找自己的疏漏，看有什么地方需要改进，并做好记录。</li>
<li>好处<ul>
<li>工作日志使你的工作作风更加严谨</li>
<li>增强你的逻辑思维能力</li>
<li>每天变得有意义</li>
<li>通过总结，提高文字表达能力</li>
<li>为后代做一个表率</li>
</ul>
</li>
</ul>
<h3 id="将每日总结作为一种习惯"><a href="#将每日总结作为一种习惯" class="headerlink" title="将每日总结作为一种习惯"></a>将每日总结作为一种习惯</h3><p>作用：</p>
<ul>
<li>省时，是工作总结完善</li>
<li>提高执行力和工作主动性</li>
<li>保证工作的衔接</li>
<li>积累工作经验</li>
</ul>
<h3 id="如何记录工作日志"><a href="#如何记录工作日志" class="headerlink" title="如何记录工作日志"></a>如何记录工作日志</h3><p>注意：</p>
<ul>
<li>1 明确每天开始的第一件事就是制定一天的工作计划。</li>
<li>2 制定计划要严肃认真，不要被干扰。</li>
<li>3 计划要与工作实际相结合，必须是符合实际的，能在当天予以落实。</li>
<li>4 计划一旦制定，就要认真执行</li>
<li>5 总结要突出重点，不用长篇累叙</li>
<li>6 注意阶段性总结，半个月，一个月一次。</li>
</ul>
<h2 id="第十三章迅速沟通的”30秒电梯法则”"><a href="#第十三章迅速沟通的”30秒电梯法则”" class="headerlink" title="第十三章迅速沟通的”30秒电梯法则”"></a>第十三章迅速沟通的”30秒电梯法则”</h2><p>###快速且清晰地表达自己的意图</p>
<ul>
<li>电梯法则真正的核心在于要求当事者在做简要说明时必须谈到问题的核心或站在对方立场上关注他所想看到的并进行强调，且要迅速有力地突出强调，有效地将自己的意思传达给对方，而不要受到其他相关信息的干扰。</li>
</ul>
<h3 id="“知、感、行”"><a href="#“知、感、行”" class="headerlink" title="“知、感、行”"></a>“知、感、行”</h3><ul>
<li>知：你要做的第一步就是要清晰地表达自己，让对方明白你所了解的就是他想明白的事情。</li>
<li>感：在自己表达结束后，必须让对方有想表达自个意愿的意思，当然我们不可能让他一定对我们所说的产生想法，但必须让他明白你通过自我的表达来营销的，而且以此作为自己的个人要求。</li>
<li>行：在清楚地表达自己的观点之后，必须让对方有所行动，例如赞成你的所有观点，并且请你详细地解释你的想法和原因。</li>
</ul>
<h2 id="第十四章在有限的时间内达到目的的走访法则"><a href="#第十四章在有限的时间内达到目的的走访法则" class="headerlink" title="第十四章在有限的时间内达到目的的走访法则"></a>第十四章在有限的时间内达到目的的走访法则</h2><h2 id="第十五章与客户一起工作"><a href="#第十五章与客户一起工作" class="headerlink" title="第十五章与客户一起工作"></a>第十五章与客户一起工作</h2><h3 id="让客户与你站一起"><a href="#让客户与你站一起" class="headerlink" title="让客户与你站一起"></a>让客户与你站一起</h3><h3 id="与客户中的”讨债鬼”打交道"><a href="#与客户中的”讨债鬼”打交道" class="headerlink" title="与客户中的”讨债鬼”打交道"></a>与客户中的”讨债鬼”打交道</h3><ul>
<li>一类是作用不大或者没什么用的人，其二就是有意与你作对的人，最好将这两类人都请出你的团队。<h3 id="不要让客户置身事外"><a href="#不要让客户置身事外" class="headerlink" title="不要让客户置身事外"></a>不要让客户置身事外</h3></li>
</ul>
<h2 id="第十六章一个人不可能煮沸整个海洋"><a href="#第十六章一个人不可能煮沸整个海洋" class="headerlink" title="第十六章一个人不可能煮沸整个海洋"></a>第十六章一个人不可能煮沸整个海洋</h2><h3 id="必要的团队精神"><a href="#必要的团队精神" class="headerlink" title="必要的团队精神"></a>必要的团队精神</h3><ul>
<li>培养团队精神：<ul>
<li>1 建立团队的全局观</li>
<li>2 团队精神大于个人利益</li>
<li>3 听取别人的意见<h3 id="正确组织团队"><a href="#正确组织团队" class="headerlink" title="正确组织团队"></a>正确组织团队</h3><h3 id="破冰游戏"><a href="#破冰游戏" class="headerlink" title="破冰游戏"></a>破冰游戏</h3></li>
</ul>
</li>
<li>破冰：打破人与人之间的隔阂，消除人际交往中的猜疑和疏远。</li>
<li>常用的破冰游戏：集体跳绳和连点游戏</li>
</ul>
<h3 id="在团队中保持高昂的士气"><a href="#在团队中保持高昂的士气" class="headerlink" title="在团队中保持高昂的士气"></a>在团队中保持高昂的士气</h3><ul>
<li>麦肯锡管理者将员工分为四类：<ul>
<li>第一类：工作能力强，工作热情高 - 重用鼓励</li>
<li>第二类：工作能力差，工作热情高 - 培训调用</li>
<li>第三类：工作能力强，工作热情低 - 不录用</li>
<li>第四类：工作能力低，工作热情低 - 不留</li>
</ul>
</li>
<li>保持士气原则<ul>
<li>1 把握团队的温度：做好一件事除了掌握方法，很重要的是要让人们乐于去干，这能产生很大的动力，调动人们的积极性和创造性。</li>
<li>2 掌握稳定的过程：要想让团队的工作顺利进行，就要事先做好周密的计划，确定目标。</li>
<li>3 让大家明白当前工作的目的</li>
<li>4 对团队同事的尊重</li>
<li>5 提倡人性化管理</li>
<li>6 遭遇困境要努力支撑下去<h3 id="团队的内部管理要畅通"><a href="#团队的内部管理要畅通" class="headerlink" title="团队的内部管理要畅通"></a>团队的内部管理要畅通</h3></li>
<li>既要了解领导的意图也要让领导了解团队工作的进展</li>
<li>一个有效的信息一般要具备三个条件：即简洁，完整和结构(结构：先说什么后说什么，内容排版)。<h3 id="为集体做好保密工作"><a href="#为集体做好保密工作" class="headerlink" title="为集体做好保密工作"></a>为集体做好保密工作</h3></li>
</ul>
</li>
</ul>
<h2 id="第十七章请向导引领你走出丛林"><a href="#第十七章请向导引领你走出丛林" class="headerlink" title="第十七章请向导引领你走出丛林"></a>第十七章请向导引领你走出丛林</h2><h3 id="不去重新发明轮子"><a href="#不去重新发明轮子" class="headerlink" title="不去重新发明轮子"></a>不去重新发明轮子</h3><ul>
<li>具体做法的建议<ul>
<li>1 运用现有资源也要考虑具体情况</li>
<li>2 先跟随，再赶超</li>
<li>3 找到最佳经验</li>
</ul>
</li>
</ul>
<h3 id="跟随向导走出荆棘"><a href="#跟随向导走出荆棘" class="headerlink" title="跟随向导走出荆棘"></a>跟随向导走出荆棘</h3><h3 id="找准你的导师"><a href="#找准你的导师" class="headerlink" title="找准你的导师"></a>找准你的导师</h3><ul>
<li>导师：导师就是你所从事行业或专业里学有专长的人，对于你当前的学习和工作，他们可以提供指导，建议和帮助。</li>
<li>戒除“我比别人聪明”的心态</li>
</ul>
<h2 id="第十八章从种子到果实的人才培养法则"><a href="#第十八章从种子到果实的人才培养法则" class="headerlink" title="第十八章从种子到果实的人才培养法则"></a>第十八章从种子到果实的人才培养法则</h2><h3 id="压力面试"><a href="#压力面试" class="headerlink" title="压力面试"></a>压力面试</h3><ul>
<li>波特五力模式：进入壁垒，替代品威胁，买方议价能力，卖方议价能力以及现存竞争者之间的竞争。</li>
<li>在压力下，不要让自己情绪失控，要以自信和冷静的态度和专业上的优势，尽量用事实说明问题，化压力为动力。</li>
</ul>
<h3 id="麦肯锡的与员工培训体系"><a href="#麦肯锡的与员工培训体系" class="headerlink" title="麦肯锡的与员工培训体系"></a>麦肯锡的与员工培训体系</h3><h3 id="方法比知识更重要"><a href="#方法比知识更重要" class="headerlink" title="方法比知识更重要"></a>方法比知识更重要</h3><ul>
<li>形成独立的学习方法，要比获得知识更重要。</li>
<li>学习能力：<ul>
<li>1 学会问”为什么”和”怎么样”</li>
<li>2 学会多角度思考问题</li>
<li>3 改进你的方法<h3 id="不晋则退"><a href="#不晋则退" class="headerlink" title="不晋则退"></a>不晋则退</h3></li>
</ul>
</li>
</ul>
<h2 id="第十九章用外出清单管理琐事"><a href="#第十九章用外出清单管理琐事" class="headerlink" title="第十九章用外出清单管理琐事"></a>第十九章用外出清单管理琐事</h2>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-六顶思考帽" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/11/09/六顶思考帽/" class="article-date">
  	<time datetime="2017-11-08T16:00:00.000Z" itemprop="datePublished">2017-11-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/09/六顶思考帽/">
        六顶思考帽
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="辩论不是对立面"><a href="#辩论不是对立面" class="headerlink" title="辩论不是对立面"></a>辩论不是对立面</h3><p>辩论只是抓住一个事情的对立面进行讨论，可以想象成这个事情为圆点，辩论的这两个对立观点是圆弧上的两个点。在讨论的过程时辩论双方会根据这两个点扩散一些观点来讨论，这样就会形成两个对角，当扩散的比较广，扩散到180度时，你会发现会形成一个圆，圆心为要讨论的事情。这时你会发现，辩论时只是在完善这个事情一个对立面的描述，当你讨论过广时，就会变成一个圆，是这个事情的描述变得完整。因此辩论不是什么对立面，只是对一个事情的不同观点而已，最终使这个事情的各个方面都更加明显的显现出来。</p>
<h4 id="“我想让你望东方看”和”你一直都在朝东方看”可不是一回事。"><a href="#“我想让你望东方看”和”你一直都在朝东方看”可不是一回事。" class="headerlink" title="“我想让你望东方看”和”你一直都在朝东方看”可不是一回事。"></a>“我想让你望东方看”和”你一直都在朝东方看”可不是一回事。</h4><h3 id="使用问题"><a href="#使用问题" class="headerlink" title="使用问题"></a>使用问题</h3><ul>
<li>不是让特定人扮演一个颜色的帽子，是每个人都扮演不同的帽子。</li>
<li>顺序应该是，就一个事物大家在不同颜色帽子的情况下，发表对应的观点。</li>
<li>大大减少讨论时间，每次提出的观点都不存在对立观点，不需要无意义的讨论。</li>
</ul>
<h3 id="蓝帽-思考的组织者，负责过程控制"><a href="#蓝帽-思考的组织者，负责过程控制" class="headerlink" title="蓝帽:思考的组织者，负责过程控制"></a>蓝帽:思考的组织者，负责过程控制</h3><ul>
<li>蓝帽思考，考察对象不再是主题本身，而是思考本身。</li>
<li>蓝帽框架就像电脑程序一样，为整个时间段内发生的所以的事情进行规划，但更常见的是，蓝帽思考掌控讨论类思考的方式就像马车车夫驾驭马一样，时刻为其指导方向。每个思考方式的叫停，下一个思考方式的选择，结论的总结。</li>
<li>专注：提出正确的问题，定义问题，列出思考任务。</li>
<li>问题-探索式：挂鱼饵，但不清楚最终结果的。射击式：用于检验瞄准点的，其答案要么是要么否。</li>
<li>归纳总结</li>
</ul>
<h3 id="白帽思考：事实和数据，不需要解释，请直讲事实，不要辩论"><a href="#白帽思考：事实和数据，不需要解释，请直讲事实，不要辩论" class="headerlink" title="白帽思考：事实和数据，不需要解释，请直讲事实，不要辩论"></a>白帽思考：事实和数据，不需要解释，请直讲事实，不要辩论</h3><ul>
<li>应该先列举数据，再选结果。</li>
<li>避免陷入信息巨浪，提议进行白帽思考的人可以将要求范围缩小。</li>
<li>认为的事实和核实的事实-未经核实的事实和已核实的事实。</li>
<li>白帽思考时不能提出自己的意见。</li>
<li>观点：西方观念是只有经过辩论才能形成观点，人本人的思维是观点像树苗一样慢慢长出来。</li>
<li>概率的范围 始终如此 往往如此 一般如此 大体上 通常 大约一半概率往往 有时如此 偶尔如此 曾经放生过 绝非如此 不可能如此</li>
<li>行为：像电脑一样给出事实，观点，中立。</li>
<li>作用：获得信息</li>
</ul>
<h3 id="红帽"><a href="#红帽" class="headerlink" title="红帽"></a>红帽</h3><ul>
<li>红帽思考：预感，直觉，印象。无需证明。引发创造性，科学发现或数学上的突破。</li>
<li>任何好的决策最终必然是以情绪的方式表达出来。</li>
<li>鼓励寻找情感的真相。</li>
<li>情绪表达，我要带上红帽告诉你，我不喜欢这次会议进行的方式。<br>降低争吵的概率</li>
<li>用对情绪：思考可以改变情绪，改变情绪的并不是思考的逻辑部分，而是思考的人之部分，如果换一个角度，人的情绪就会随着认知改变放生变化。</li>
<li>确定那一部分受到了情绪化观点的激烈影响，就可以避开。</li>
<li>要克制住为情绪辩解的欲望。</li>
<li>红帽使感情有权大白于天下。</li>
</ul>
<h3 id="黄帽"><a href="#黄帽" class="headerlink" title="黄帽"></a>黄帽</h3><ul>
<li>阳光，光明和乐观。</li>
<li>黄帽思考：寻找某个提议中可能存在的优点。</li>
<li>积极思考，关注利益和优点。</li>
<li>积极的范围：从满怀希望到合乎逻辑。已证实，基于经验和现有知识非常可能，通过不同的事物组合很有可能，有一半的可能，只是有可能，希望渺茫或风险较大。</li>
<li>理由和逻辑：乐观评估可能基于经验，现有信息，逻辑推理，暗示，趋势，猜想和希望得出。</li>
<li>建设性思考，投机与远见。</li>
<li>黄帽思考：探索价值和利益，继而努力发现逻辑证据来支持这一观点。</li>
</ul>
<h3 id="黑帽"><a href="#黑帽" class="headerlink" title="黑帽"></a>黑帽</h3><ul>
<li>黑帽是谨慎之帽，阻止人们做哪些非法，危险，无利可图等事。</li>
<li>黑帽是批判式思维，谨慎和小心，指出困难和问题。</li>
<li>黑帽思考始终是符合逻辑的，必须有合理的逻辑理由才能进行批评。原因必须站得住脚。</li>
<li>列出所有潜在的问题，障碍和难点，以便能够提前规划，克服它们。</li>
<li>大量传统的西式辩论都会攻击对方的讨论过程，如果过程不正确，那么结论必然是错误的。事实上，结论还真有可能是正确的，只是其正确性还没得到证明罢了。</li>
<li>黑帽与”符合”密切相关。提议是否符合过去的经验，政策战略。</li>
<li>过去和未来，影响的范围。</li>
<li>过度批判，有些人只喜欢批判而不提出建设性意见，黑帽也需要做出贡献。</li>
<li>黑帽思维只是客观的列出不足，并不是努力的去吹毛求疵。不是辩论，黑帽思考的目的是在地图上标出谨慎点。</li>
</ul>
<h3 id="绿帽"><a href="#绿帽" class="headerlink" title="绿帽"></a>绿帽</h3><ul>
<li>绿帽代表能量的帽子，代表创造力的思考帽。</li>
<li>绿帽存在的意义就在于，劈出一个特定的时间段，让每个人做一些创造性的工作。</li>
<li>带上绿帽时，你可以提出各种”可能性”。</li>
<li>绿帽思考：创造性思考，新概念，新创意，新视角。备选方案和更多的备选路线。老问题，新方案。</li>
<li>绿帽本身无法让人们更有创造力，但是绿帽能给思考者以时间，让他们专注于创造力。</li>
<li>水平思考：以非正统的方式或者显然地非逻辑的方式来寻求解决问题的办法。</li>
<li>用行动来代替判断。行动是一个动态的过程，而不是一个判断的过程。</li>
<li>激发的必要性：荒诞的逻辑，随机激发。按部就班的逻辑只是人们描述所发生事实的后见之明，意外出现的错误或事故，往往提供了引发新创意所需的刺激。</li>
<li>备选路线：现实中的问题不像数学题只有一个答案，现实中的问题通常不止一个答案。或许某种方案对完成现有任务已经足够了，但那并不意味着就没有更好的方式了。</li>
</ul>
<h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><ul>
<li>单独使用</li>
<li>相继使用</li>
</ul>
<h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><ul>
<li>第一个目的是通过让思考者每次只处理意见事，来简化思考过程。思考着不需要同时应对情感，逻辑，信息，希望，传张高丽，而是逐一应对上述种种。</li>
<li>第二个目的是允许在思考的过程中进行转换。每顶思考帽功能确定，角色扮演，不至于冒犯人。</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>思考的最大敌人就是复杂性，因为那会混乱。当思考过程清晰简单，它本身就很愉快，也更有效。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-Timing Wheel 定时轮算法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/25/Timing Wheel 定时轮算法/" class="article-date">
  	<time datetime="2017-10-24T16:00:00.000Z" itemprop="datePublished">2017-10-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/25/Timing Wheel 定时轮算法/">
        Timing Wheel 定时轮算法
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>我们在做一款期货交易的app，网络部分使用的socket长连接。由于我们的网关服务器性能有限，因此需要在用户不频繁操作的时候，把用户断开。</p>
<h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>每个用户只要5分钟不请求长连接相关接口，我们就自动将用户断开，从而保证我们服务器的负载能力。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>最简单的实现方式就是使用timer定时器，但是由于timer定时器的性能消耗较大，当有成千上万个连接时，性能消耗是我们无法忍受的。因此我们使用了timing wheel算法，这个算法既保证了功能的实现，又保证了性能。</p>
<h3 id="Timing-Wheel-原理"><a href="#Timing-Wheel-原理" class="headerlink" title="Timing Wheel 原理"></a>Timing Wheel 原理</h3><p><img src="http://img.my.csdn.net/uploads/201209/29/1348926970_9123.png" alt=""></p>
<p>首先要定义三个变量：ticksPerWheel（一轮的tick数），tickDuration（一个tick的持续时间）<br>以及 timeUnit（时间单位），例如 当ticksPerWheel=60，tickDuration=1，timeUnit=秒，这就和现实中的始终的秒针走动完全类似了。</p>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><p>按照我们的需求来实现：</p>
<ul>
<li>timeUnit = 1s</li>
<li>ticksPerWheel = 5*60</li>
<li><p>tickDuration = 5分钟</p>
</li>
<li><p>1 定义一个线程每秒跳动一下指针</p>
</li>
<li>2 定义一个map key = 刻度(0-299),value = List&lt;用户&gt;</li>
<li>3 每当用户请求接口的时候，就将用户加入当前时间-1秒的那个list里面</li>
<li>4 每当转到对应的刻度就去取一下当前刻度里面的用户列表，并逐一将用户断开连接。</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-ConstraintLayout" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/13/ConstraintLayout/" class="article-date">
  	<time datetime="2017-10-12T16:00:00.000Z" itemprop="datePublished">2017-10-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/13/ConstraintLayout/">
        ConstraintLayout
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="ConstraintLayout-对象的优势"><a href="#ConstraintLayout-对象的优势" class="headerlink" title="ConstraintLayout 对象的优势"></a>ConstraintLayout 对象的优势</h3><p>如果您使用 ConstraintLayout 来构建相同的布局，XML 文件会包含类似于下面这样的元素层次结构。该布局拥有一个完全扁平的层次结构。这是因为 ConstraintLayout 允许您构建复杂的布局，而不必嵌套 View 和 ViewGroup 元素。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ImageView</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ImageView</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TextView</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">EditText</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TextView</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TextView</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">EditText</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Button</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TextView</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用ConstraintLayout布局可以极大降低布局的嵌套层次，避免过度重绘，从而极大提升了绘制的性能，当布局越复杂的时候表现的越明显。</p>
<ul>
<li>布局位置重叠时，后面的在前面的顶层。</li>
</ul>
<h3 id="属性说明"><a href="#属性说明" class="headerlink" title="属性说明"></a>属性说明</h3><h4 id="layout-constraint-本源位置-目标位置-”-目标ID-”"><a href="#layout-constraint-本源位置-目标位置-”-目标ID-”" class="headerlink" title="layout_constraint[本源位置]_[目标位置]=”[目标ID]”"></a>layout_constraint[本源位置]_[目标位置]=”[目标ID]”</h4><p>根据布局中的其他元素或视图, 确定View在屏幕中的位置, 受到三类约束, 即其他视图, 父容器(parent), 基准线(Guideline)。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintLeft_toLeftOf</span><br><span class="line">layout_constraintRight_toLeftOf</span><br><span class="line">layout_constraintRight_toRightOf</span><br><span class="line">layout_constraintTop_toTopOf</span><br><span class="line">layout_constraintTop_toBottomOf</span><br><span class="line">layout_constraintBottom_toTopOf</span><br><span class="line">layout_constraintBottom_toBottomOf</span><br><span class="line">layout_constraintBaseline_toBaselineOf</span><br></pre></td></tr></table></figure>
<h4 id="match-parent-替换"><a href="#match-parent-替换" class="headerlink" title="match_parent 替换"></a>match_parent 替换</h4><p>单个设置：<br>ConstraintLayout也支持自动填充宽高, 把宽高设置为0dp会根据位置自动填充。宽全屏，需要左右和父布局左右相邻，高全屏，需要上下和副布局上下相邻。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">      android:id=&quot;@+id/textView3&quot;</span><br><span class="line">      android:layout_width=&quot;0dp&quot;</span><br><span class="line">      android:layout_height=&quot;0dp&quot;</span><br><span class="line">      android:layout_marginTop=&quot;16dp&quot;</span><br><span class="line">      android:text=&quot;TextView&quot;</span><br><span class="line">      app:layout_constraintLeft_toLeftOf=&quot;parent&quot;</span><br><span class="line">      app:layout_constraintRight_toRightOf=&quot;parent&quot;</span><br><span class="line">      app:layout_constraintTop_toTopOf=&quot;parent&quot;</span><br><span class="line">      app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;</span><br></pre></td></tr></table></figure>
<h4 id="控件的高宽比例设置"><a href="#控件的高宽比例设置" class="headerlink" title="控件的高宽比例设置"></a>控件的高宽比例设置</h4><p>ConstraintLayout支持使用constraintDimensionRatio设置宽高的纵横比, 把宽(layout_width)或者高(layout_height)设置为0dp, 则根据另一个属性值和比例, 计算当前属性值.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"200dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:contentDescription</span>=<span class="string">"@null"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:src</span>=<span class="string">"@drawable/total_large"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"@+id/constraintLayout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintDimensionRatio</span>=<span class="string">"4:3"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintLeft_toLeftOf</span>=<span class="string">"@+id/constraintLayout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:layout_constraintRight_toRightOf</span>=<span class="string">"@+id/constraintLayout"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="比例方式"><a href="#比例方式" class="headerlink" title="比例方式"></a>比例方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app:layout_constraintHorizontal_weight</span><br><span class="line">app:layout_constraintVertical_weight</span><br></pre></td></tr></table></figure>
<h4 id="Guidelines"><a href="#Guidelines" class="headerlink" title="Guidelines"></a>Guidelines</h4><p>Guidelines在布局的横向或者竖向添加网格线，网格线可以是具体的长度或者是宽高的百分比。之后添加控件相对于具体的线位置布局。</p>
<h4 id="自动生成约束"><a href="#自动生成约束" class="headerlink" title="自动生成约束"></a>自动生成约束</h4><p>如果嫌弃手动布局麻烦，再简单的布局情况下，可以手动的拖动，并设置自动生成约束，design -&gt; Autoconnect。</p>
<h4 id="Inference"><a href="#Inference" class="headerlink" title="Inference"></a>Inference</h4><p>Inference也是用于自动添加约束的，但它比Autoconnect的功能要更为强大，因为AutoConnect只能给当前操作的控件自动添加约束，而Inference会给当前界面中的所有元素自动添加约束。因而Inference比较适合用来实现复杂度比较高的界面，它可以一键自动生成所有的约束。摆放完成之后点击一下工具栏上的Infer Constraints按钮，就能为所有控件自动添加约束了</p>
<h4 id="比例间距"><a href="#比例间距" class="headerlink" title="比例间距"></a>比例间距</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintHorizontal_chainStyle</span><br></pre></td></tr></table></figure>
<p>取值：</p>
<ul>
<li>packed</li>
<li><p>spread_inside</p>
</li>
<li><p>spread + 宽度为0，且可以通过weight控制分配比例，首未加间隔</p>
</li>
<li>spread_inside + 宽度非0 首未不加间隔</li>
<li>packed + 宽度非0</li>
</ul>
<p><img src="http://img.blog.csdn.net/20170917222312991?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbG1qNjIzNTY1Nzkx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<h4 id="浮动按钮"><a href="#浮动按钮" class="headerlink" title="浮动按钮"></a>浮动按钮</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintHorizontal_bias</span><br><span class="line">layout_constraintVertical_bias</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">...</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">"com.zhy.constrantlayout_learn.MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"60dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"60dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#612"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintHorizontal_bias</span>=<span class="string">"0.9"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintLeft_toLeftOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintRight_toRightOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintVertical_bias</span>=<span class="string">"0.9"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">....</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-android 动画view" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/09/25/android 动画view/" class="article-date">
  	<time datetime="2017-09-24T16:00:00.000Z" itemprop="datePublished">2017-09-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/25/android 动画view/">
        自定义View 动画
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><h4 id="handler回调不断的重绘"><a href="#handler回调不断的重绘" class="headerlink" title="handler回调不断的重绘"></a>handler回调不断的重绘</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomProgressLayer</span> <span class="keyword">extends</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Paint mPaint;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> startAngle;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> angle;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> color = Color.parseColor(<span class="string">"#242629"</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DURTATION = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> FRAME_NUM = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">private</span> onCompassLayerAnimationEnd compassLayerAnimationEnd;</span><br><span class="line">    <span class="keyword">private</span> RectF oval;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCompassLayerAnimationEnd</span><span class="params">(onCompassLayerAnimationEnd compassLayerAnimationEnd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.compassLayerAnimationEnd = compassLayerAnimationEnd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomProgressLayer</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomProgressLayer</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, attrs, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CustomProgressLayer</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">        mPaint = <span class="keyword">new</span> Paint();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSizeChanged</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h, <span class="keyword">int</span> oldw, <span class="keyword">int</span> oldh)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh);</span><br><span class="line">        oval = <span class="keyword">new</span> RectF(<span class="number">0</span>, <span class="number">0</span>, getMeasuredWidth(), getMeasuredHeight());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDraw</span><span class="params">(Canvas canvas)</span> </span>&#123;</span><br><span class="line">        start = System.currentTimeMillis();</span><br><span class="line">        mPaint.setAntiAlias(<span class="keyword">true</span>);<span class="comment">//取消锯齿</span></span><br><span class="line">        mPaint.setStyle(Paint.Style.FILL);</span><br><span class="line">        mPaint.setXfermode(<span class="keyword">null</span>);</span><br><span class="line">        mPaint.setColor(color);</span><br><span class="line">        canvas.saveLayer(<span class="number">0</span>, <span class="number">0</span>, getWidth(), getHeight(), <span class="keyword">null</span>,</span><br><span class="line">                Canvas.MATRIX_SAVE_FLAG | Canvas.CLIP_SAVE_FLAG</span><br><span class="line">                        | Canvas.HAS_ALPHA_LAYER_SAVE_FLAG</span><br><span class="line">                        | Canvas.FULL_COLOR_LAYER_SAVE_FLAG</span><br><span class="line">                        | Canvas.CLIP_TO_LAYER_SAVE_FLAG);</span><br><span class="line">        canvas.drawRect(oval, mPaint);</span><br><span class="line">        <span class="keyword">if</span> (angle != <span class="number">0</span>) &#123;</span><br><span class="line">            mPaint.setXfermode(<span class="keyword">new</span> PorterDuffXfermode(PorterDuff.Mode.DST_OUT));</span><br><span class="line">            canvas.drawArc(oval, startAngle, currentAngle &gt; angle ? angle : currentAngle, <span class="keyword">true</span>, mPaint);</span><br><span class="line">        &#125;</span><br><span class="line">        waitTime = System.currentTimeMillis() - start &gt; <span class="number">16</span> ? <span class="number">0</span> : System.currentTimeMillis() - start;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Handler handler = <span class="keyword">new</span> Handler();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> gapAngle = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> currentAngle = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> waitTime = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> endAngle = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> clockwise = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    Runnable drawRunnable = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (clockwise) &#123;</span><br><span class="line">                <span class="keyword">if</span> (currentAngle &gt;= angle) &#123;</span><br><span class="line">                    currentAngle = angle;</span><br><span class="line">                    onEnd();</span><br><span class="line">                    invalidate();</span><br><span class="line">                    <span class="comment">//移除当前Runnable</span></span><br><span class="line">                    handler.removeCallbacks(drawRunnable);</span><br><span class="line">                    waitTime = <span class="number">0</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    currentAngle += gapAngle;</span><br><span class="line">                    handler.postDelayed(drawRunnable, waitTime);</span><br><span class="line">                    invalidate();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (currentAngle &gt;= angle) &#123;</span><br><span class="line">                    currentAngle = angle;</span><br><span class="line">                    startAngle = endAngle;</span><br><span class="line">                    onEnd();</span><br><span class="line">                    invalidate();</span><br><span class="line">                    <span class="comment">//移除当前Runnable</span></span><br><span class="line">                    handler.removeCallbacks(drawRunnable);</span><br><span class="line">                    waitTime = <span class="number">0</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    startAngle -= gapAngle;</span><br><span class="line">                    currentAngle += gapAngle;</span><br><span class="line">                    currentAngle = currentAngle &gt; angle ? angle : currentAngle;</span><br><span class="line">                    handler.postDelayed(drawRunnable, waitTime);</span><br><span class="line">                    invalidate();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invalidateView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        handler.postDelayed(drawRunnable, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawStatue</span><span class="params">(<span class="keyword">float</span> start, <span class="keyword">float</span> angle, <span class="keyword">int</span> color, <span class="keyword">boolean</span> clockwise)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.startAngle = start - <span class="number">90</span>;</span><br><span class="line">        <span class="keyword">this</span>.angle = angle;</span><br><span class="line">        <span class="keyword">this</span>.color = color;</span><br><span class="line">        <span class="keyword">this</span>.gapAngle = <span class="keyword">this</span>.angle / (<span class="keyword">float</span>) FRAME_NUM;</span><br><span class="line">        BigDecimal b = <span class="keyword">new</span> BigDecimal(<span class="keyword">this</span>.gapAngle);</span><br><span class="line">        <span class="keyword">this</span>.gapAngle = (<span class="keyword">float</span>) b.setScale(<span class="number">2</span>, BigDecimal.ROUND_HALF_UP).doubleValue();</span><br><span class="line">        currentAngle = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.clockwise = clockwise;</span><br><span class="line">        <span class="keyword">if</span> (!clockwise) &#123;</span><br><span class="line">            <span class="keyword">this</span>.endAngle = start - <span class="number">90</span>;</span><br><span class="line">            <span class="keyword">this</span>.startAngle = startAngle + angle;</span><br><span class="line">        &#125;</span><br><span class="line">        invalidateView();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">onCompassLayerAnimationEnd</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">onEnd</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">onEnd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (compassLayerAnimationEnd != <span class="keyword">null</span>) &#123;</span><br><span class="line">            compassLayerAnimationEnd.onEnd();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2018 ShenYonghe
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>